(function(a){a.fn.lazyload=function(b){var c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,skip_invisible:!0};b&&(null!==b.failurelimit&&(b.failure_limit=b.failurelimit,delete b.failurelimit),a.extend(c,b));var d=this;return 0==c.event.indexOf("scroll")&&a(c.container).bind(c.event,function(b){var e=0;d.each(function(){if(c.skip_invisible&&!a(this).is(":visible"))return;if(!a.abovethetop(this,c)&&!a.leftofbegin(this,c))if(!a.belowthefold(this,c)&&!a.rightoffold(this,c))a(this).trigger("appear");else if(++e>c.failure_limit)return!1});var f=a.grep(d,function(a){return!a.loaded});d=a(f)}),this.each(function(){var b=this;b.loaded=!1,a(b).one("appear",function(){this.loaded||a("<img />").bind("load",function(){a(b).hide().attr("src",a(b).data("original"))[c.effect](c.effectspeed),b.loaded=!0}).attr("src",a(b).data("original"))}),0!=c.event.indexOf("scroll")&&a(b).bind(c.event,function(c){b.loaded||a(b).trigger("appear")})}),a(c.container).trigger(c.event),this},a.belowthefold=function(b,c){if(c.container===undefined||c.container===window)var d=a(window).height()+a(window).scrollTop();else var d=a(c.container).offset().top+a(c.container).height();return d<=a(b).offset().top-c.threshold},a.rightoffold=function(b,c){if(c.container===undefined||c.container===window)var d=a(window).width()+a(window).scrollLeft();else var d=a(c.container).offset().left+a(c.container).width();return d<=a(b).offset().left-c.threshold},a.abovethetop=function(b,c){if(c.container===undefined||c.container===window)var d=a(window).scrollTop();else var d=a(c.container).offset().top;return d>=a(b).offset().top+c.threshold+a(b).height()},a.leftofbegin=function(b,c){if(c.container===undefined||c.container===window)var d=a(window).scrollLeft();else var d=a(c.container).offset().left;return d>=a(b).offset().left+c.threshold+a(b).width()},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0,container:window})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0,container:window})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0,container:window})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0,container:window})}})})(jQuery)
var __encode ='jsjiami.com',_a={}, _0xb483=["\x5F\x64\x65\x63\x6F\x64\x65","\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x73\x6F\x6A\x73\x6F\x6E\x2E\x63\x6F\x6D\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x6F\x62\x66\x75\x73\x63\x61\x74\x6F\x72\x2E\x68\x74\x6D\x6C"];(function(_0xd642x1){_0xd642x1[_0xb483[0]]= _0xb483[1]})(_a);var __Ox9ea63=["\x70\x61\x74\x68\x6E\x61\x6D\x65","\x6C\x61\x7A\x79\x6C\x6F\x61\x64","\x69\x6D\x67\x2E\x6C\x61\x7A\x79","\x73\x68\x6F\x77","\x64\x69\x76\x2E\x63\x63","\x66\x69\x6E\x64","\x68\x6F\x76\x65\x72","\x61\x64\x64\x43\x6C\x61\x73\x73","\x68\x69\x64\x65","\x72\x65\x6D\x6F\x76\x65\x43\x6C\x61\x73\x73","\x75\x6C\x2E\x61\x61\x20\x2E\x62\x62","\x72\x65\x61\x64\x79","\x6F\x6E","\x23","\x73\x6C\x6F\x77","\x66\x61\x64\x65\x49\x6E","\x5F\x74\x5F\x6E\x61\x76","\x61\x74\x74\x72","\x5F\x74\x69\x6D\x65\x72","\x6E\x61\x76\x5F\x68\x6F\x76\x65\x72","\x65\x61\x63\x68","\x5B\x5F\x74\x5F\x6E\x61\x76\x5D","\x73\x6C\x69\x64\x65\x44\x6F\x77\x6E","\x73\x74\x6F\x70","\x73\x6C\x69\x64\x65\x55\x70","\x6C\x65\x6E\x67\x74\x68","\x64\x69\x76\x5B\x6E\x61\x6D\x65\x3D\x65\x65\x5D","\x65\x71","\x74\x65\x78\x74","\x65\x65","\x73\x75\x62\x73\x74\x72","\x2E\x2E\x2E\x3C\x61\x20\x6E\x61\x6D\x65\x3D\x22\x7A\x68\x61\x6E\x6B\x61\x69\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x79\x22\x20\x68\x72\x65\x66\x3D\x22\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x3A\x3B\x22\x3E\u5C55\u5F00\x3C\x2F\x61\x3E","\x68\x74\x6D\x6C","\x63\x6C\x69\x63\x6B","\x61\x5B\x6E\x61\x6D\x65\x3D\x7A\x68\x61\x6E\x6B\x61\x69\x5D","\x70\x61\x72\x65\x6E\x74","\x3C\x61\x20\x6E\x61\x6D\x65\x3D\x22\x79\x69\x6E\x63\x68\x61\x6E\x67\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x79\x22\x20\x68\x72\x65\x66\x3D\x22\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x3A\x3B\x22\x3E\u9690\u85CF\x3C\x2F\x61\x3E","\x62\x6F\x64\x79","\x61\x5B\x6E\x61\x6D\x65\x3D\x79\x69\x6E\x63\x68\x61\x6E\x67\x5D","\x63\x75\x72","\x68\x61\x73\x43\x6C\x61\x73\x73","\x2E\x73\x62\x74\x6E","\x2E\x73\x79","\u6536\u8D77\x3C\x69\x20\x63\x6C\x61\x73\x73\x3D\x22\x73\x6A\x62\x67\x73\x22\x3E\x3C\x2F\x69\x3E\x3C\x69\x20\x63\x6C\x61\x73\x73\x3D\x22\x73\x6A\x62\x67\x78\x22\x3E\x3C\x2F\x69\x3E","\u5C55\u5F00\x3C\x69\x20\x63\x6C\x61\x73\x73\x3D\x22\x73\x6A\x62\x67\x73\x22\x3E\x3C\x2F\x69\x3E\x3C\x69\x20\x63\x6C\x61\x73\x73\x3D\x22\x73\x6A\x62\x67\x78\x22\x3E\x3C\x2F\x69\x3E","\x2E\x73\x62\x74\x6E\x31","\x2E\x73\x79\x31","\x2E\x73\x62\x74\x6E\x32","\x2E\x73\x79\x32","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x6C\x69","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65","","\x3C\x6C\x69\x20\x63\x6C\x61\x73\x73\x3D\x22\x6E\x65\x77\x22\x3E","\x3C\x6C\x69\x3E","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x3C\x2F\x6C\x69\x3E","\x3C\x65\x6D\x20\x63\x6C\x61\x73\x73\x3D\x22\x6F\x76\x65\x72\x22\x3E\u5012\u5E8F\u2193\x3C\x2F\x65\x6D\x3E","\x3C\x65\x6D\x20\x6F\x6E\x63\x6C\x69\x63\x6B\x3D\x22\x4F\x72\x64\x65\x72\x28\x30\x2C\x27\x76\x6C\x69\x6E\x6B\x5F","\x27\x2C","\x29\x22\x3E\u987A\u5E8F\u2191\x3C\x2F\x65\x6D\x3E","\x3C\x65\x6D\x20\x6F\x6E\x63\x6C\x69\x63\x6B\x3D\x22\x4F\x72\x64\x65\x72\x28\x31\x2C\x27\x76\x6C\x69\x6E\x6B\x5F","\x29\x22\x3E\u5012\u5E8F\u2193\x3C\x2F\x65\x6D\x3E","\x3C\x65\x6D\x20\x63\x6C\x61\x73\x73\x3D\x22\x6F\x76\x65\x72\x22\x3E\u987A\u5E8F\u2191\x3C\x2F\x65\x6D\x3E","\x5F\x73\x31","\x5F\x73\x32","\x3C\x75\x6C\x3E","\x3C\x2F\x75\x6C\x3E","\x68\x72\x65\x66","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x63\x63\x79\x79\x34\x2E\x63\x6F\x6D","\x73\x65\x61\x72\x63\x68","\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x63\x63\x79\x79\x34\x2E\x63\x6F\x6D","\x73\x63\x72\x6F\x6C\x6C\x54\x6F\x70","\x2E\x67\x6F\x74\x6F\x70","\x66\x61\x64\x65\x4F\x75\x74","\x73\x63\x72\x6F\x6C\x6C","\x30\x70\x78","\x61\x6E\x69\x6D\x61\x74\x65","\x68\x74\x6D\x6C\x2C\x62\x6F\x64\x79","\x2E\x69\x66\x6F\x63\x75\x73\x5F\x6E\x61\x76\x20\x6C\x69","\x2E\x69\x66\x6F\x63\x75\x73\x5F\x70\x69\x63","\x2E\x69\x74\x78\x4D\x6F\x76\x69\x65\x20\x2E\x6E\x61\x76\x50\x72\x65\x76","\x2E\x69\x74\x78\x4D\x6F\x76\x69\x65\x20\x2E\x6E\x61\x76\x4E\x65\x78\x74","\x73\x6C\x69\x64\x65","\x2E\x69\x74\x78\x4D\x6F\x76\x69\x65","\x2E\x69\x66\x6F\x63\x75\x73\x5F\x6E\x61\x76\x20\x75\x6C","\x2E\x6E\x61\x76\x50\x72\x65\x76","\x2E\x6E\x61\x76\x4E\x65\x78\x74","\x6C\x65\x66\x74","\x66\x61\x2D\x61\x6E\x67\x6C\x65\x2D\x72\x69\x67\x68\x74","\x69","\x2E\x77\x69\x64\x65\x2D\x32\x35","\x31\x30\x30\x25","\x63\x73\x73","\x2E\x77\x69\x64\x65\x2D\x37\x35","\x2E\x69\x73\x2D\x62\x74\x6E\x20\x69","\x66\x61\x2D\x61\x6E\x67\x6C\x65\x2D\x6C\x65\x66\x74","\x23\x70\x6C\x61\x79\x65\x72\x2D\x73\x69\x64\x65\x62\x61\x72\x2D\x69\x73","\x75\x6E\x64\x65\x66\x69\x6E\x65\x64","\x6C\x6F\x67","\u5220\u9664","\u7248\u672C\u53F7\uFF0C\x6A\x73\u4F1A\u5B9A","\u671F\u5F39\u7A97\uFF0C","\u8FD8\u8BF7\u652F\u6301\u6211\u4EEC\u7684\u5DE5\u4F5C","\x6A\x73\x6A\x69\x61","\x6D\x69\x2E\x63\x6F\x6D"];function getUrlArgs(){return location[__Ox9ea63[0x0]]}$(function(){$(__Ox9ea63[0x2])[__Ox9ea63[0x1]]()});$(document)[__Ox9ea63[0xb]](function(){$(__Ox9ea63[0xa])[__Ox9ea63[0x6]](function(){$(this)[__Ox9ea63[0x7]](__Ox9ea63[0x6])[__Ox9ea63[0x5]](__Ox9ea63[0x4])[__Ox9ea63[0x3]]()},function(){$(this)[__Ox9ea63[0x9]](__Ox9ea63[0x6])[__Ox9ea63[0x5]](__Ox9ea63[0x4])[__Ox9ea63[0x8]]()})});function setTab(_0x9e42x3,_0x9e42x4,_0x9e42x5,_0x9e42x6){for(i= 1;i<= _0x9e42x6;i++){i== _0x9e42x5?$(__Ox9ea63[0xd]+ _0x9e42x3+ i)[__Ox9ea63[0x7]](__Ox9ea63[0xc]):$(__Ox9ea63[0xd]+ _0x9e42x3+ i)[__Ox9ea63[0x9]](__Ox9ea63[0xc]);i== _0x9e42x5?$(__Ox9ea63[0xd]+ _0x9e42x4+ i)[__Ox9ea63[0xf]](__Ox9ea63[0xe]):$(__Ox9ea63[0xd]+ _0x9e42x4+ i)[__Ox9ea63[0x8]]()}}$(document)[__Ox9ea63[0xb]](function(){var _0x9e42x7={};$(__Ox9ea63[0x15])[__Ox9ea63[0x6]](function(){var _0x9e42x8=$(this)[__Ox9ea63[0x11]](__Ox9ea63[0x10]);clearTimeout(_0x9e42x7[_0x9e42x8+ __Ox9ea63[0x12]]);_0x9e42x7[_0x9e42x8+ __Ox9ea63[0x12]]= setTimeout(function(){$(__Ox9ea63[0x15])[__Ox9ea63[0x14]](function(){$(this)[_0x9e42x8== $(this)[__Ox9ea63[0x11]](__Ox9ea63[0x10])?__Ox9ea63[0x7]:__Ox9ea63[0x9]](__Ox9ea63[0x13])});$(__Ox9ea63[0xd]+ _0x9e42x8)[__Ox9ea63[0x17]](true,true)[__Ox9ea63[0x16]](0)},0)},function(){var _0x9e42x8=$(this)[__Ox9ea63[0x11]](__Ox9ea63[0x10]);clearTimeout(_0x9e42x7[_0x9e42x8+ __Ox9ea63[0x12]]);_0x9e42x7[_0x9e42x8+ __Ox9ea63[0x12]]= setTimeout(function(){$(__Ox9ea63[0x15])[__Ox9ea63[0x9]](__Ox9ea63[0x13]);$(__Ox9ea63[0xd]+ _0x9e42x8)[__Ox9ea63[0x17]](true,true)[__Ox9ea63[0x18]](0)},0)})});$(function(){for(var _0x9e42x9=0;_0x9e42x9< $(__Ox9ea63[0x1a])[__Ox9ea63[0x19]];_0x9e42x9++){var _0x9e42xa=$(__Ox9ea63[0x1a])[__Ox9ea63[0x1b]](_0x9e42x9);if(_0x9e42xa[__Ox9ea63[0x1c]]()[__Ox9ea63[0x19]]> 170){_0x9e42xa[__Ox9ea63[0x11]](__Ox9ea63[0x1d],_0x9e42xa[__Ox9ea63[0x1c]]());_0x9e42xa[__Ox9ea63[0x20]](_0x9e42xa[__Ox9ea63[0x1c]]()[__Ox9ea63[0x1e]](0,170)+ __Ox9ea63[0x1f])}};$(__Ox9ea63[0x25])[__Ox9ea63[0xc]](__Ox9ea63[0x21],__Ox9ea63[0x22],function(){$(this)[__Ox9ea63[0x23]]()[__Ox9ea63[0x20]]($(this)[__Ox9ea63[0x23]]()[__Ox9ea63[0x11]](__Ox9ea63[0x1d])+ __Ox9ea63[0x24])});$(__Ox9ea63[0x25])[__Ox9ea63[0xc]](__Ox9ea63[0x21],__Ox9ea63[0x26],function(){$(this)[__Ox9ea63[0x23]]()[__Ox9ea63[0x20]]($(this)[__Ox9ea63[0x23]]()[__Ox9ea63[0x11]](__Ox9ea63[0x1d])[__Ox9ea63[0x1e]](0,170)+ __Ox9ea63[0x1f])})});$(function(){$(__Ox9ea63[0x29])[__Ox9ea63[0x21]](function(){if($(this)[__Ox9ea63[0x28]](__Ox9ea63[0x27])){$(__Ox9ea63[0x29])[__Ox9ea63[0x9]](__Ox9ea63[0x27]);$(__Ox9ea63[0x2a])[__Ox9ea63[0x3]]();$(this)[__Ox9ea63[0x20]](__Ox9ea63[0x2b])}else {$(__Ox9ea63[0x2a])[__Ox9ea63[0x8]]();$(__Ox9ea63[0x29])[__Ox9ea63[0x7]](__Ox9ea63[0x27]);$(this)[__Ox9ea63[0x20]](__Ox9ea63[0x2c])}});$(__Ox9ea63[0x2d])[__Ox9ea63[0x21]](function(){if($(this)[__Ox9ea63[0x28]](__Ox9ea63[0x27])){$(__Ox9ea63[0x2d])[__Ox9ea63[0x9]](__Ox9ea63[0x27]);$(__Ox9ea63[0x2e])[__Ox9ea63[0x8]]()}else {$(__Ox9ea63[0x2e])[__Ox9ea63[0x3]]();$(__Ox9ea63[0x2d])[__Ox9ea63[0x7]](__Ox9ea63[0x27])}});$(__Ox9ea63[0x2f])[__Ox9ea63[0x21]](function(){if($(this)[__Ox9ea63[0x28]](__Ox9ea63[0x27])){$(__Ox9ea63[0x2f])[__Ox9ea63[0x9]](__Ox9ea63[0x27]);$(__Ox9ea63[0x30])[__Ox9ea63[0x8]]()}else {$(__Ox9ea63[0x30])[__Ox9ea63[0x3]]();$(__Ox9ea63[0x2f])[__Ox9ea63[0x7]](__Ox9ea63[0x27])}})});function $$(_0x9e42xc){return document[__Ox9ea63[0x31]](_0x9e42xc)}function Order(_0x9e42xe,_0x9e42xc,_0x9e42xf){var _0x9e42x10,_0x9e42x11,_0x9e42x9,_0x9e42x12,_0x9e42x13,_0x9e42x14,_0x9e42x15,_0x9e42x16,_0x9e42x17,_0x9e42x18;_0x9e42x13= $$(_0x9e42xc);_0x9e42x10= _0x9e42x13[__Ox9ea63[0x33]](__Ox9ea63[0x32]);_0x9e42x11= _0x9e42x10[__Ox9ea63[0x19]];_0x9e42x15= __Ox9ea63[0x34];if(_0x9e42xe== 1){for(_0x9e42x9= _0x9e42x11- 1;_0x9e42x9>= 0;_0x9e42x9--){if(_0x9e42x9== _0x9e42x11- 1){_0x9e42x16= __Ox9ea63[0x35]}else {_0x9e42x16= __Ox9ea63[0x36]};_0x9e42x15+= _0x9e42x16+ _0x9e42x10[_0x9e42x9][__Ox9ea63[0x37]]+ __Ox9ea63[0x38]};_0x9e42x17= __Ox9ea63[0x39];_0x9e42x18= __Ox9ea63[0x3a]+ _0x9e42xf+ __Ox9ea63[0x3b]+ _0x9e42xf+ __Ox9ea63[0x3c]}else {for(_0x9e42x9= _0x9e42x11- 1;_0x9e42x9>= 0;_0x9e42x9--){if(_0x9e42x9== 0){_0x9e42x16= __Ox9ea63[0x35]}else {_0x9e42x16= __Ox9ea63[0x36]};_0x9e42x15+= _0x9e42x16+ _0x9e42x10[_0x9e42x9][__Ox9ea63[0x37]]+ __Ox9ea63[0x38]};_0x9e42x17= __Ox9ea63[0x3d]+ _0x9e42xf+ __Ox9ea63[0x3b]+ _0x9e42xf+ __Ox9ea63[0x3e];_0x9e42x18= __Ox9ea63[0x3f]};$$(_0x9e42xc+ __Ox9ea63[0x40])[__Ox9ea63[0x37]]= _0x9e42x17;$$(_0x9e42xc+ __Ox9ea63[0x41])[__Ox9ea63[0x37]]= _0x9e42x18;_0x9e42x15= __Ox9ea63[0x42]+ _0x9e42x15+ __Ox9ea63[0x43];_0x9e42x13[__Ox9ea63[0x37]]= _0x9e42x15}$(function(){var _0x9e42x19=window[__Ox9ea63[0x45]][__Ox9ea63[0x44]];if(_0x9e42x19[__Ox9ea63[0x47]](__Ox9ea63[0x46])==  -1){window[__Ox9ea63[0x45]][__Ox9ea63[0x44]]= __Ox9ea63[0x48]};$(window)[__Ox9ea63[0x4c]](function(){if($(window)[__Ox9ea63[0x49]]()>= 300){$(__Ox9ea63[0x4a])[__Ox9ea63[0xf]](400)}else {$(__Ox9ea63[0x4a])[__Ox9ea63[0x4b]](400)}});$(__Ox9ea63[0x4a])[__Ox9ea63[0x21]](function(){$(__Ox9ea63[0x4f])[__Ox9ea63[0x4e]]({scrollTop:__Ox9ea63[0x4d]},800)});jQuery(__Ox9ea63[0x55])[__Ox9ea63[0x54]]({titCell:__Ox9ea63[0x50],mainCell:__Ox9ea63[0x51],autoPlay:true,delayTime:1000,interTime:3000,startFun:function(_0x9e42x9){if(_0x9e42x9== 0){jQuery(__Ox9ea63[0x52])[__Ox9ea63[0x21]]()}else {if(_0x9e42x9% 10== 0){jQuery(__Ox9ea63[0x53])[__Ox9ea63[0x21]]()}}}});jQuery(__Ox9ea63[0x55])[__Ox9ea63[0x54]]({mainCell:__Ox9ea63[0x56],prevCell:__Ox9ea63[0x57],nextCell:__Ox9ea63[0x58],effect:__Ox9ea63[0x59],vis:10,scroll:10,delayTime:0,autoPage:true,pnLoop:false});$(__Ox9ea63[0x62])[__Ox9ea63[0xc]](__Ox9ea63[0x21],function(){if($(this)[__Ox9ea63[0x5]](__Ox9ea63[0x5b])[__Ox9ea63[0x28]](__Ox9ea63[0x5a])){$(__Ox9ea63[0x5c])[__Ox9ea63[0x8]]();$(__Ox9ea63[0x5f])[__Ox9ea63[0x5e]]({"\x77\x69\x64\x74\x68":__Ox9ea63[0x5d]});$(__Ox9ea63[0x60])[__Ox9ea63[0x9]](__Ox9ea63[0x5a]);$(__Ox9ea63[0x60])[__Ox9ea63[0x7]](__Ox9ea63[0x61])}else {$(__Ox9ea63[0x5c])[__Ox9ea63[0x3]]();$(__Ox9ea63[0x5f])[__Ox9ea63[0x5e]]({"\x77\x69\x64\x74\x68":__Ox9ea63[0x34]});$(__Ox9ea63[0x60])[__Ox9ea63[0x9]](__Ox9ea63[0x61]);$(__Ox9ea63[0x60])[__Ox9ea63[0x7]](__Ox9ea63[0x5a])}})});;;(function(_0x9e42x1a,_0x9e42x1b,_0x9e42x1c,_0x9e42x1d,_0x9e42x1e,_0x9e42x1f){_0x9e42x1f= __Ox9ea63[0x63];_0x9e42x1d= function(_0x9e42xa){if( typeof alert!== _0x9e42x1f){alert(_0x9e42xa)};if( typeof console!== _0x9e42x1f){console[__Ox9ea63[0x64]](_0x9e42xa)}};_0x9e42x1c= function(_0x9e42x20,_0x9e42x1a){return _0x9e42x20+ _0x9e42x1a};_0x9e42x1e= _0x9e42x1c(__Ox9ea63[0x65],_0x9e42x1c(_0x9e42x1c(__Ox9ea63[0x66],__Ox9ea63[0x67]),__Ox9ea63[0x68]));try{_0x9e42x1a= __encode;if(!( typeof _0x9e42x1a!== _0x9e42x1f&& _0x9e42x1a=== _0x9e42x1c(__Ox9ea63[0x69],__Ox9ea63[0x6a]))){_0x9e42x1d(_0x9e42x1e)}}catch(e){_0x9e42x1d(_0x9e42x1e)}})({})
;!function(t){"use strict";var a={init:function(e){return this.each(function(){this.self=t(this),a.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,e),a._adjustCallback.call(this),a._adjustNumber.call(this),a._adjustHints.call(this),this.opt.score=a._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&a._adjustStarType.call(this),a._adjustPath.call(this),a._createStars.call(this),this.opt.cancel&&a._createCancel.call(this),this.opt.precision&&a._adjustPrecision.call(this),a._createScore.call(this),a._apply.call(this,this.opt.score),a._setTitle.call(this,this.opt.score),a._target.call(this,this.opt.score),this.opt.readOnly?a._lock.call(this):(this.style.cursor="pointer",a._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target","path"],a=0;a<t.length;a++)"function"==typeof this.opt[t[a]]&&(this.opt[t[a]]=this.opt[t[a]].call(this))},_adjustedScore:function(t){return t?a._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,a=0;a<this.opt.number;a++){var e=this.opt.hints[a];"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),this.opt.hints[a]=[];for(var s=0;s<t;s++){var i=e[s],o=e[e.length-1];void 0===o&&(o=null),this.opt.hints[a][s]=void 0===i?o:i}}},_adjustNumber:function(){this.opt.number=a._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var a=0;a<t.length;a++)this.opt[t[a]]=this.opt[t[a]].replace(".","-")},_apply:function(t){a._fill.call(this,t),t&&(t>0&&this.score.val(t),a._roundStars.call(this,t))},_between:function(t,a,e){return Math.min(Math.max(parseFloat(t),a),e)},_binds:function(){this.cancel&&(a._bindOverCancel.call(this),a._bindClickCancel.call(this),a._bindOutCancel.call(this)),a._bindOver.call(this),a._bindClick.call(this),a._bindOut.call(this)},_bindClick:function(){var e=this;e.stars.on("click.raty",function(s){var i=!0,o=e.opt.half||e.opt.precision?e.self.data("score"):this.alt||t(this).data("alt");e.opt.click&&(i=e.opt.click.call(e,+o,s)),(i||void 0===i)&&(e.opt.half&&!e.opt.precision&&(o=a._roundHalfScore.call(e,o)),a._apply.call(e,o))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(a){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,a)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(e){var s=+t.score.val()||void 0;a._apply.call(t,s),a._target.call(t,s,e),a._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,s,e)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(e){var s=t.opt.cancelOff;if("img"!==t.opt.starType&&(s=t.opt.cancelClass+" "+s),a._setIcon.call(t,this,s),t.opt.mouseout){var i=+t.score.val()||void 0;t.opt.mouseout.call(t,i,e)}})},_bindOver:function(){var t=this,e=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(e,function(e){var s=a._getScoreByPosition.call(t,e,this);a._fill.call(t,s),t.opt.half&&(a._roundStars.call(t,s,e),a._setTitle.call(t,s,e),t.self.data("score",s)),a._target.call(t,s,e),t.opt.mouseover&&t.opt.mouseover.call(t,s,e)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(e){var s=t.opt.path+t.opt.starOff,i=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",s):(i=t.opt.cancelClass+" "+i,t.stars.attr("class",s)),a._setIcon.call(t,this,i),a._target.call(t,null,e),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var a=this.opt.path+this.opt.cancelOff,e=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,class:this.opt.cancelClass});"img"===this.opt.starType?e.attr({src:a,alt:"x"}):e.attr("data-alt","x").addClass(a),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(e):this.self.append("&#160;").append(e),this.cancel=e},_createScore:function(){var e=t(this.opt.targetScore);this.score=e.length?e:a._buildScoreField.call(this)},_createStars:function(){for(var e=1;e<=this.opt.number;e++){var s=a._nameForIndex.call(this,e),i={alt:e,src:this.opt.path+this.opt[s]};"img"!==this.opt.starType&&(i={"data-alt":e,class:i.src}),i.title=a._getHint.call(this,e),t("<"+this.opt.starType+" />",i).appendTo(this),this.opt.space&&this.self.append(e<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(a){t(this).text(a),t.error(a)},_fill:function(t){for(var e=0,s=1;s<=this.stars.length;s++){var i,o=this.stars[s-1],r=a._turnOn.call(this,s,t);if(this.opt.iconRange&&this.opt.iconRange.length>e){var n=this.opt.iconRange[e];i=a._getRangeIcon.call(this,n,r),s<=n.range&&a._setIcon.call(this,o,i),s===n.range&&e++}else i=this.opt[r?"starOn":"starOff"],a._setIcon.call(this,o,i)}},_getFirstDecimal:function(t){var a=t.toString().split(".")[1],e=0;return a&&(e=parseInt(a.charAt(0),10),"9999"===a.slice(1,5)&&e++),e},_getRangeIcon:function(t,a){return a?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(e,s){var i=parseInt(s.alt||s.getAttribute("data-alt"),10);if(this.opt.half){var o=a._getWidth.call(this),r=parseFloat((e.pageX-t(s).offset().left)/o);i=i-1+r}return i},_getHint:function(t,e){if(0!==t&&!t)return this.opt.noRatedMsg;var s=a._getFirstDecimal.call(this,t),i=Math.ceil(t),o=this.opt.hints[(i||1)-1],r=o,n=!e||this.move;return this.opt.precision?(n&&(s=0===s?9:s-1),r=o[s]):(this.opt.halfShow||this.opt.half)&&(s=n&&0===s?1:s>5?1:0,r=o[s]),""===r?"":r||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||a._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=a._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(t){for(var e=0;e<this.opt.number;e++)this.stars[e].title=a._getHint.call(this,e+1)},_roundHalfScore:function(t){var e=parseInt(t,10),s=a._getFirstDecimal.call(this,t);return 0!==s&&(s=s>5?1:.5),e+s},_roundStars:function(t,e){var s,i=(t%1).toFixed(2);if(e||this.move?s=i>.5?"starOn":"starHalf":i>this.opt.round.down&&(s="starOn",this.opt.halfShow&&i<this.opt.round.up?s="starHalf":i<this.opt.round.full&&(s="starOff")),s){var o=this.opt[s],r=this.stars[Math.ceil(t)-1];a._setIcon.call(this,r,o)}},_setIcon:function(t,a){t["img"===this.opt.starType?"src":"className"]=this.opt.path+a},_setTarget:function(t,a){a&&(a=this.opt.targetFormat.toString().replace("{score}",a)),t.is(":input")?t.val(a):t.html(a)},_setTitle:function(t,e){if(t){var s=parseInt(Math.ceil(t),10),i=this.stars[s-1];i.title=a._getHint.call(this,t,e)}},_target:function(e,s){if(this.opt.target){var i=t(this.opt.target);i.length||a._error.call(this,"Target selector invalid or missing!");var o=s&&"mouseover"===s.type;if(void 0===e)e=this.opt.targetText;else if(null===e)e=o?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?e=a._getHint.call(this,e,s):this.opt.precision&&(e=parseFloat(e).toFixed(1));var r=s&&"mousemove"===s.type;o||r||this.opt.targetKeep||(e=this.opt.targetText)}a._setTarget.call(this,i,e)}},_turnOn:function(t,a){return this.opt.single?t===a:t<=a},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=a._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(e){return this.each(function(){var s=t(this);s.data("readonly")!==!0&&(a[e?"click":"score"].call(s,null),this.score.removeAttr("value"))})},click:function(e){return this.each(function(){t(this).data("readonly")!==!0&&(e=a._adjustedScore.call(this,e),a._apply.call(this,e),this.opt.click&&this.opt.click.call(this,e,t.Event("click")),a._target.call(this,e))})},destroy:function(){return this.each(function(){var a=t(this),e=a.data("raw");e?a.off(".raty").empty().css({cursor:e.style.cursor}).removeData("readonly"):a.data("raw",a.clone()[0])})},getScore:function(){var t,a=[];return this.each(function(){t=this.score.val(),a.push(t?+t:void 0)}),a.length>1?a:a[0]},move:function(e){return this.each(function(){var s=parseInt(e,10),i=a._getFirstDecimal.call(this,e);s>=this.opt.number&&(s=this.opt.number-1,i=10);var o=a._getWidth.call(this),r=o/10,n=t(this.stars[s]),l=n.offset().left+r*i,c=t.Event("mousemove",{pageX:l});this.move=!0,n.trigger(c),this.move=!1})},readOnly:function(e){return this.each(function(){var s=t(this);s.data("readonly")!==e&&(e?(s.off(".raty").children(this.opt.starType).off(".raty"),a._lock.call(this)):(a._binds.call(this),a._unlock.call(this)),s.data("readonly",e))})},reload:function(){return a.set.call(this,{})},score:function(){var e=t(this);return arguments.length?a.setScore.apply(e,arguments):a.getScore.call(e)},set:function(a){return this.each(function(){t(this).raty(t.extend({},this.opt,a))})},setScore:function(e){return this.each(function(){t(this).data("readonly")!==!0&&(e=a._adjustedScore.call(this,e),a._apply.call(this,e),a._target.call(this,e))})}};t.fn.raty=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist!"):a.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!0,halfShow:!0,hints:[['很差1分','很差2分'],['较差3分','较差4分'],['还行5分','还行6分'],['推荐7分','推荐8分'],['力荐9分','力荐10分']],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:5,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,path:'/static/images/home',starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:'#ratewords',targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery);